<h2 class="text-center">CDBL Charge Receive(Details)</h2>

<div class="card-body shadow-lg mx-4 p-3">
    <form [formGroup]="inputForm" (ngSubmit)="onSubmit()">
      <div class="row mx-2">
        <div class="col-md-3">
         
            <label style="margin-left: 5px;" class="label" for="code">Branch</label>
           <!----<app-text-input [ariaReadOnly] formControlName="branchName" [label]="'Branch Name'"></app-text-input>-->
          <input class="form-control" formControlName="branchName" value='{{branch}}' readonly/>
          <!--<input class="form-control" type="hidden" formControlName="branchCode" value='{{branchCode}}' readonly/>-->
        </div>
        <!--<div class="col-md-3">
         
            <label style="margin-left: 15px;" class="label" for="code">Code</label>
            <app-text-input [ariaReadOnly] formControlName="branchCode" [label]="'Branch Code'"></app-text-input>
          
        
        </div>-->
  <div class="col-md-3">
    
      <label class="label ms-3" for="formDate">From Date</label>
    
    <app-text-input [type]="'date'" formControlName="fromDate" [label]="'Form Date'" ></app-text-input>
  
  </div>
  <div class="col-md-3">
    
      <label class="label ms-3" for="toDate">To Date</label>
      <app-text-input [type]="'date'" formControlName="toDate" [label]="'To Date'" ></app-text-input>
    
  
  </div>
  
  
      </div>
      <div class="ms-5 mx-3">
        <button type="submit" [disabled]="inputForm.invalid"  class="ml-3 btn btn-primary submit px-3">SUBMIT</button>
  
        <button type="button" (click)="onPrint()" [disabled]="inputForm.invalid && ( !charges|| charges?.chargeReceives.length ===0)"  class="ms-3 btn btn-info submit px-3">PRINT</button>
    </div>
      </form>
    
  </div>
  <div  class="container mt-2 mb-4">
    <div>
      <div *ngIf="charges?.chargeReceives else content" class="overflow-auto">
        <table  class="table table-hover table-bordered" style="cursor: pointer;">
          <thead class="bg-dark text-white">
          <tr>
           
                        <th>Date</th>
                        <th>MR_NO</th>
                        <th>RCODE</th>
                        <th>Name</th>
                        <th>{{this.charges.yname1}}</th>
                        <th>{{this.charges.yname2}}</th>
                        <th>{{this.charges.yname3}}</th>
                        <th>Amount</th>
                       
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let charge of charges?.chargeReceives" >
            <td>{{charge.date | date:'mediumDate'}} </td>
            <td>{{charge.mR_NO}} <span (click)="onDetails(charge.mR_NO)" class="btn btn-sm btn-warning">VIEW</span></td>
            <td>{{charge.rcode}}</td>
            <td>{{charge.name }} </td>
            <td>{{charge.y2}}</td>
            <td>{{charge.y3}}</td>
            <td>{{charge.y4}}</td>
            <td>{{charge.amount}}</td>
          
          </tr>
          </tbody>
          <tfoot class="bg-info">
            <tr>
                <th style="text-align: center;" colspan="4">Total</th>
                <td>{{this.charges.year1}}</td>
                <td>{{this.charges.year2}}</td>
                <td>{{this.charges.year3}}</td>
                <td>{{this.charges.totalAmount}}</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <ng-template #content>
        <h3 class="text-center">No data found</h3>
    </ng-template>
    </div>
  </div>

